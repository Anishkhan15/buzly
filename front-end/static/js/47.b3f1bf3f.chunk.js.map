{"version":3,"file":"static/js/47.b3f1bf3f.chunk.js","mappings":"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","sources":["components/NewsDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FaWhatsapp, FaFacebookF, FaCopy } from 'react-icons/fa';\n\nconst NewsDetail = ({ language = 'en' }) => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [news, setNews] = useState(null);\n  const [relatedNews, setRelatedNews] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const backendUrl = process.env.REACT_APP_BACKEND_URL || \"http://localhost:5000\";\n\n    if (!backendUrl) {\n      setError('Backend URL is not configured.');\n      return;\n    }\n\n    fetch(`${backendUrl}/api/news/${language}/${id}`)\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(`Failed to fetch news: ${res.statusText}`);\n        }\n        return res.json();\n      })\n      .then((data) => {\n        setNews(data);\n        setError(null);\n\n        // ✅ Set the page title dynamically\n        document.title = `${data.title} | BuzzlyNow`;\n\n        if (data.category) {\n          fetch(`${backendUrl}/api/news/category/${language}/${data.category}`)\n            .then((res) => res.json())\n            .then((relatedData) => {\n              setRelatedNews(relatedData.filter((item) => item._id !== id));\n            })\n            .catch((error) => console.error('Error fetching related news:', error));\n        }\n      })\n      .catch((error) => {\n        console.error('Error fetching news:', error);\n        setError('Failed to fetch news details. Please try again later.');\n      });\n  }, [id, language]);\n\n  // ✅ Ensure title updates when news is set\n  useEffect(() => {\n    if (news) {\n      document.title = `${news.title} | BuzzlyNow`;\n    }\n  }, [news]);\n\n  if (error) return <div className=\"text-red-500 text-center mt-8\">{error}</div>;\n  if (!news) return <div className=\"text-center mt-8\">Loading...</div>;\n\n  const handleShare = (platform) => {\n    const url = window.location.href;\n    switch (platform) {\n      case 'whatsapp':\n        window.open(`https://wa.me/?text=${encodeURIComponent(news.title)} - ${encodeURIComponent(url)}`, '_blank');\n        break;\n      case 'facebook':\n        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');\n        break;\n      case 'copy':\n        navigator.clipboard.writeText(url);\n        alert('Link copied to clipboard!');\n        break;\n      default:\n        break;\n    }\n  };\n\n  const formatDateTime = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleString('en-GB', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true,\n    });\n  };\n\n  return (\n    <div className=\"flex justify-center px-4 py-8\">\n      <div className=\"max-w-4xl w-full space-y-6\">\n        <h1 className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 leading-snug text-center\">{news.title}</h1>\n        <div className=\"flex justify-between items-center text-gray-500 text-sm md:text-base\">\n          <div className=\"font-semibold\">{formatDateTime(news.dateTime)}</div>\n          <div className=\"flex space-x-4\">\n            <button onClick={() => handleShare('whatsapp')} className=\"text-green-500 hover:text-green-700\">\n              <FaWhatsapp size={18} />\n            </button>\n            <button onClick={() => handleShare('facebook')} className=\"text-blue-600 hover:text-blue-800\">\n              <FaFacebookF size={18} />\n            </button>\n            <button onClick={() => handleShare('copy')} className=\"text-gray-600 hover:text-gray-800\">\n              <FaCopy size={18} />\n            </button>\n          </div>\n        </div>\n        <img src={news.image} alt={news.title} className=\"w-full h-[300px] md:h-[500px] object-cover rounded-lg shadow-md\" />\n        <div className=\"flex flex-col md:flex-row gap-6\">\n          <div className=\"text-justify text-gray-800 font-medium md:text-xl leading-relaxed tracking-wide space-y-4 md:w-2/3\">\n            {news.description.split('\\n').map((paragraph, index) => (\n              <p key={index} className=\"font-serif text-lg md:text-xl leading-8\">{paragraph}</p>\n            ))}\n          </div>\n          <div className=\"md:w-1/3 space-y-4\">\n            {relatedNews.slice(0, 3).map((item) => (\n              <div \n                key={item._id} \n                className=\"cursor-pointer shadow-md rounded-lg overflow-hidden\"\n                onClick={() => navigate(`/news/${id.includes('/') ? `${language}/` : ''}${item._id}`)}\n              >\n                <img src={item.image} alt={item.title} className=\"w-full h-28 object-cover\" />\n                <h3 className=\"p-2 text-sm font-semibold\">{item.title}</h3>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NewsDetail;\n"],"names":["_ref","language","id","useParams","navigate","useNavigate","news","setNews","useState","relatedNews","setRelatedNews","error","setError","useEffect","backendUrl","process","fetch","concat","then","res","ok","Error","statusText","json","data","document","title","category","relatedData","filter","item","_id","catch","console","_jsx","className","children","handleShare","platform","url","window","location","href","open","encodeURIComponent","navigator","clipboard","writeText","alert","_jsxs","dateString","dateTime","Date","toLocaleString","day","month","year","hour","minute","hour12","onClick","FaWhatsapp","size","FaFacebookF","FaCopy","src","image","alt","description","split","map","paragraph","index","slice","includes"],"sourceRoot":""}