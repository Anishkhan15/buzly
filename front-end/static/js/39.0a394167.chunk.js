/*! For license information please see 39.0a394167.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[39],{39:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var l=s(43),n=s(578),a=s(735),c=s(579);function r(e){let{language:t}=e;const{category:s}=(0,n.g)(),[r,i]=(0,l.useState)([]),[o,d]=(0,l.useState)(!0),[m,x]=(0,l.useState)(null),[h,g]=(0,l.useState)(15),u=(0,n.Zp)();return(0,l.useEffect)((()=>{console.log("Category:",s),console.log("Current Language:",t)}),[s,t]),(0,l.useEffect)((()=>{(async()=>{const e="".concat("https://buzly-2.onrender.com","/api/news/category/").concat(t,"/").concat(s);console.log("Fetching news from URL:",e);try{const t=await fetch(e);if(!t.ok)throw new Error("HTTP error! Status: ".concat(t.status));const s=await t.json();i(s)}catch(m){console.error("Error fetching news:",m),x("Failed to load news. Please try again later.")}finally{d(!1)}})()}),[s,t]),o?(0,c.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,c.jsx)("div",{className:"text-gray-500 animate-pulse text-lg",children:"Loading..."})}):m?(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen text-center text-red-500",children:[(0,c.jsx)("p",{children:m}),(0,c.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",onClick:()=>window.location.reload(),children:"Retry"})]}):(0,c.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,c.jsxs)("h1",{className:"text-3xl font-bold mb-6 capitalize text-center",children:[s," News (","en"===t?"English":"Hindi",")"]}),(0,c.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:r.slice(0,h).map((e=>(0,c.jsxs)("article",{className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transition-transform transform hover:scale-105",onClick:()=>u("/news/".concat(e._id)),children:[(0,c.jsx)("img",{src:e.image||"https://via.placeholder.com/300x200",alt:e.title,className:"w-full h-52 object-cover",loading:"lazy"}),(0,c.jsxs)("div",{className:"p-5",children:[(0,c.jsx)("span",{className:"inline-block bg-red-600 text-white px-3 py-1 text-sm rounded-full",children:e.category}),(0,c.jsx)("h3",{className:"text-lg font-semibold mt-3 mb-2 line-clamp-2",children:e.title}),(0,c.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3",children:e.description}),(0,c.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mt-3",children:[(0,c.jsx)(a.A,{className:"w-4 h-4 mr-1"}),(0,c.jsx)("span",{children:new Date(e.dateTime).toLocaleString()})]})]})]},e._id)))}),h<r.length&&(0,c.jsx)("div",{className:"flex justify-center mt-8",children:(0,c.jsx)("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",onClick:()=>g((e=>e+15)),children:"Load More"})})]})}},735:(e,t,s)=>{s.d(t,{A:()=>l});const l=(0,s(114).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])}}]);
//# sourceMappingURL=39.0a394167.chunk.js.map